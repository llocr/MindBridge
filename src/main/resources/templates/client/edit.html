<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <h1>회원 정보 수정</h1>
    <form role="form" th:action="@{/client/edit}" method="post">
        <input type="hidden" name="role" th:value="${client.role}">
        <input type="hidden" name="enrollDate" th:value="${client.enrollDate}">
        <input type="hidden" name="password" th:value="${client.password}">
        <div>
            <label th:for="id">아이디</label>
            <input type="text" id="id" name="id" th:field="${client.id}" readonly>
        </div>

<!--        <div> -->
<!--            <label th:for="password">비밀번호</label>-->
<!--            <input type="password"  th:field="${client.password}" id="password" placeholder="변경할 비밀번호를 입력해주세요.">-->
<!--        </div>-->

        <div>
            <label th:for="name">이름</label>
            <input type="text" th:field="${client.name}" id="name" placeholder="변경할 이름을 입력해주세요.">
        </div>

        <div>
            <label th:for="studentNo">학번</label>
            <input type="text" th:field="${client.studentNo}" id="studentNo" readonly>
        </div>

        <div>
            <label th:for="email">email</label>
            <input type="email" th:field="${client.email}" id="email" placeholder="변경할 email을 입력해주세요.">
        </div>

        <div>
            <label th:for="major">학과</label>
            <select th:field="${client.major.majorNo}" name="major" id="major"></select>
        </div>

        <div>
            <label th:for="birth">생일</label>
            <input type="date" id="birth" th:field="${client.birth}">
        </div>

        <div>
            <label th:for="address">주소</label>
            <input type="text" th:field="${client.address}" id="address" placeholder="변경할 주소를 입력해주세요.">
        </div>
        <br>
        <button type="submit">수정하기</button>
    </form>
    <script>
        fetch('/client/major')
            .then(res => res.json())
            .then(data => {
                const $major = document.getElementById('major');
                for (let index in data) {
                    const major = data[index];
                    const $option = document.createElement('option');
                    $option.value = major.majorNo;
                    $option.textContent = major.name;
                    $major.appendChild($option);
                }
            });
    </script>
</body>
</html>